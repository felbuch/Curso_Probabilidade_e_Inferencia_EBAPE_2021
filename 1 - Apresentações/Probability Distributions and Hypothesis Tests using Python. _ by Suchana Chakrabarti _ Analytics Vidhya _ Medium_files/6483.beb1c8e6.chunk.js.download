(self.webpackChunklite=self.webpackChunklite||[]).push([[6483],{81162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),r.createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"}));const s=function(e){return r.createElement("svg",o({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},43915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"});const s=function(e){return r.createElement("svg",o({width:25,height:25},e),a)}},55459:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("path",{d:"M21.27 20.06a9.04 9.04 0 0 0 2.75-6.68C24.02 8.21 19.67 4 14.1 4S4 8.21 4 13.38c0 5.18 4.53 9.39 10.1 9.39 1 0 2-.14 2.95-.41.28.25.6.49.92.7a7.46 7.46 0 0 0 4.19 1.3c.27 0 .5-.13.6-.35a.63.63 0 0 0-.05-.65 8.08 8.08 0 0 1-1.29-2.58 5.42 5.42 0 0 1-.15-.75zm-3.85 1.32l-.08-.28-.4.12a9.72 9.72 0 0 1-2.84.43c-4.96 0-9-3.71-9-8.27 0-4.55 4.04-8.26 9-8.26 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32a5.59 5.59 0 0 0 .21 1.29c.19.7.49 1.4.89 2.08a6.43 6.43 0 0 1-2.67-1.06c-.34-.22-.88-.48-1.16-.74z"});const s=function(e){return r.createElement("svg",o({width:29,height:29},e),a)}},14349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=r.createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"});const s=function(e){return r.createElement("svg",o({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},33819:(e,t,n)=>{"use strict";n.d(t,{h:()=>g,K:()=>b});var r=n(28655),o=n.n(r),a=n(71439),s=n(67294),l=n(42933),i=n(33914),c=n(98024),u=n(95760),p=n(51512),f=n(6688),d=n(43915),h=n(55459);function v(){var e=o()(["\n  fragment ResponsesIconButton_post on Post {\n    allowResponses\n    postResponses {\n      count\n    }\n  }\n"]);return v=function(){return e},e}var g=function(e){var t=e.allowResponses,n=e.responsesCount,r=e.handleClick,o=e.postId,a=e.isLimitedState,v=e.iconStylesOverride,g=e.countStylesOverride,b=e.svgSize,y=void 0===b?"L":b,m=e.responsesCountColor,O=void 0===m?"LIGHTER":m,w=(0,f.I)(),S=(0,u.Av)(),E=(0,p.pK)();if(!t)return null;var P=function(e){return{fill:e.baseColor.fill.light,opacity:a?.4:1,cursor:a?"not-allowed":"pointer",":hover":{fill:a?void 0:e.baseColor.fill.lighter}}},T={opacity:a?.4:1},I="S"===y?s.createElement(d.Z,{"aria-label":"responses",className:w([P,v])}):s.createElement(h.Z,{"aria-label":"responses",className:w([P,v])}),j=s.createElement("button",{onClick:a?void 0:function(e){r(e),S.event("responses.viewAllClicked",{postId:o,source:E})},className:w({cursor:"pointer",border:0,padding:0})},s.createElement(l.x,{display:"flex",flexDirection:"row",alignItems:"center"},s.createElement(l.x,{display:"flex",alignItems:"center"},I,!!n&&s.createElement(c.F,{tag:"p",scale:"M",color:O},s.createElement("div",{className:w([g,T])},n))))),C=s.createElement(i._,{tooltipText:"This feature is temporarily disabled.",targetDistance:15},j);return s.createElement(s.Fragment,null,a?C:j)},b=(0,a.Ps)(v())},45893:(e,t,n)=>{"use strict";var r;n.d(t,{Fz:()=>r,yo:()=>o,ZR:()=>a}),function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(r||(r={}));var o=3,a="414px"},74908:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var r=n(319),o=n.n(r),a=n(63038),s=n.n(a),l=n(38125),i=n.n(l),c=n(67294),u=n(86156),p=n(45893),f=n(68356),d=n.n(f),h=n(19725),v=d()({loader:function(){return Promise.all([n.e(8342),n.e(8698),n.e(9590),n.e(7417)]).then(n.bind(n,25706))},modules:["src/components/responses/sidebar/threaded/ThreadedResponsesSidebar"],webpack:function(){return[25706]},loading:function(){return null},render:(0,h.n)("ThreadedResponsesSidebar")}),g=n(77180),b=n(27108),y=n(8403),m=function(e){var t=e.children,n=e.post,r=e.preload,a=void 0===r||r,l=c.useState(!1),f=s()(l,2),d=f[0],h=f[1],m=(0,g.F)(),O=!!(0,y.Wd)("responsesOpen"),w=c.useState(!1),S=s()(w,2),E=S[0],P=S[1],T=c.useRef(!0),I=c.useState(void 0),j=s()(I,2),C=j[0],R=j[1],k=c.useRef(0),x=c.useState(!1),M=s()(x,2),z=M[0],A=M[1],L=c.useState([]),D=s()(L,2),H=D[0],G=D[1],_=function(){G(i()(H))},q=c.useCallback((function(){return P(!0)}),[P]),N=c.useCallback((function(){P(!1),G([]),T.current=!0}),[P,G,T]);c.useEffect((function(){A(!0),P(O)}),[O]);var Q=function(){window.innerWidth<m.breakpoints.md&&h(!0)};return c.useEffect((function(){return Q(),b.V6.on("resize",Q),function(){return b.V6.off("resize",Q)}}),[]),c.useEffect((function(){var e,t,n=null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.documentElement;return d&&null!=n&&n.style&&(E?(n.style.top="-".concat(k.current,"px"),k.current=n.scrollTop,n.style.overflow="hidden",n.style.position="fixed"):(n.style.overflow="",n.style.position="",n.style.top="",n.scrollTop=k.current)),function(){d&&null!=n&&n.style&&(n.style.overflow="",n.style.position="",n.style.top="",n.scrollTop=k.current)}}),[E]),c.useEffect((function(){a&&v.preload()}),[a]),c.createElement(u.f.Provider,{value:{addContinueThisThreadSidebar:function(e){T.current=!1,G([].concat(o()(H),[e]))},openSidebarToRespondToHighlight:function(e){R(e),P(!0)},openSidebar:q,closeSidebar:N}},!!n&&z&&c.createElement(v,{isResponsesSidebarVisible:E&&0===H.length,parentPost:n,inResponseToQuote:C,setInResponseToQuote:R,showPreviousSidebar:_,cleanupSidebar:N,initialSidebarRender:T.current}),!!n&&z&&H.map((function(e,t,r){var o,a=(o=t,(p.yo-1)*(o+1));return c.createElement(v,{key:n.id,isResponsesSidebarVisible:E&&t===r.length-1,parentPost:n,inResponseToQuote:C,setInResponseToQuote:R,continueThisThreadPost:e,continueThisThreadPostDepth:a,showPreviousSidebar:_,cleanupSidebar:N,initialSidebarRender:T.current})})),t)}},66210:(e,t,n)=>{"use strict";n.d(t,{V:()=>h,k:()=>v});var r=n(28655),o=n.n(r),a=n(23493),s=n.n(a),l=n(71439),i=n(67294),c=n(95760),u=n(51512),p=n(27108),f=n(21146);function d(){var e=o()(["\n  fragment PostScrollTracker_post on Post {\n    id\n    collection {\n      id\n    }\n    sequence {\n      sequenceId\n    }\n  }\n"]);return d=function(){return e},e}function h(e,t,n,r){var o=(0,c.Av)(),a=(0,u.Qi)(),l=Date.now(),d=null,h=i.useCallback(s()((function(){if(e.current){var r=(0,f.L6)(e.current);if((0,f.pn)(r)){var s=Date.now(),i=(0,f.tM)(r),c=(0,f.UO)(),u=(0,f.t_)(),p=Math.round(i.top),h=Math.round(i.top+i.height),v=c.top,g=c.top+u.height,b=c.height;o.event("post.streamScrolled",{postIds:[t.id],collectionIds:[t.collection?t.collection.id:""],sequenceIds:[t.sequence?t.sequence.sequenceId:""],sources:n?["post_page"]:[a],tops:[p],bottoms:[h],areFullPosts:[!0],loggedAt:s,timeDiff:null!==d?Math.round(s-d):0,scrollTop:v,scrollBottom:g,scrollableHeight:b,viewStartedAt:l}),d=s}}}),1e3),[t,n]);i.useEffect((function(){h();var e=null!=r&&r.current?(0,p.jC)(null==r?void 0:r.current):p.V6;return e.on("scroll_end",h),function(){e.off("scroll_end",h)}}),[h])}var v=(0,l.Ps)(d())},83024:(e,t,n)=>{"use strict";n.d(t,{Gj:()=>v,eu:()=>g,Sz:()=>b});var r=n(28655),o=n.n(r),a=n(59713),s=n.n(a),l=n(50361),i=n.n(l),c=n(71439),u=n(14391);function p(){var e=o()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return p=function(){return e},e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=100;if(1!==e.paragraphs.length)return null;var n=i()(e.paragraphs[0]),r=n.text||"",o=0,a=e.startOffset||0,s=e.endOffset||r.length;if(r.length-s>t&&(r=r.substring(0,s+t)+"…"),a>t){var l=a-t;r="…"+r.substring(l),o=l-1}n.text=r,n.type=u.NJ.P,n.markups.unshift({end:s,start:a,type:u.Jh.HIGHLIGHT});var c,p=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(n.markups);try{for(p.s();!(c=p.n()).done;){var f=c.value;f.start-=o,f.end-=o}}catch(e){p.e(e)}finally{p.f()}return n},g=function(e){if(1!==e.paragraphs.length)return null;var t=e.paragraphs[0].text||"",n=e.startOffset||0,r=e.endOffset||t.length,o=t.slice(n,r);return o.length>=185&&(o=o.substring(0,185)+"..."),d(d({},e.paragraphs[0]),{},{text:o,type:u.NJ.P,markups:[{end:o.length,start:0,type:u.Jh.HIGHLIGHT,anchorType:null,href:null,linkMetadata:null,userId:null}],hasDropCap:null,dropCapImage:null})},b=(0,c.Ps)(p())},50993:(e,t,n)=>{"use strict";n.d(t,{vV:()=>r,N8:()=>o});var r=function(e){return/^[\s\xa0]*$/.test(e)},o=function(e,t){if(e.length<t)return e;var n=e.substr(0,t),r=n.charCodeAt(n.length-1),o=n.charCodeAt(n.length-2);return r>=55296&&r<=57343&&!(o>=55296&&o<=57343)&&(n=n.substr(0,n.length-1)),(n=(n=n.replace(/(\s+\S+|\s+)$/,"")).replace(/[.,:;?!-]+$/,""))+"…"}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6483.beb1c8e6.chunk.js.map